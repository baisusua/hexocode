---
title: iAPP重构之路
date: 2016-06-20 14:45:50
categories: Angular
tags: [Angular,MVC,Directives,Webpack]
---
极光数据服务公布服务组件
--
iAPP与反欺诈通用组件将使用Angular指令的形式进行开发，以下是开发任务：
- 静态资源管理
- 数据配置接口
- 本地开发方案
- 发布生产版本
- 更新维护方案

将以公共header为例，完善公共组件库的开发标准及流程
dpHeader图片资源的处理
--
*开发：*
开发时html模板直接引用本地图片资源

*生产：*
- 使用gulp-qiniu将图片资源上传到七牛云
- 将七牛云返回的图片地址存储到内存中
- 使用gulp-rev将html模板中的图片地址替换为七牛云的地址

dpHeader样式处理
--
*方案一：*
使用内联样式，避免单独引入样式的问题

*方案二*
单独样式文件，处理方式同静态图片，先上传到七牛云，在文件中在进行替换（需要提前验证js引入css的可行性方案）

dpHeader指令文件处理
--
*开发*
正常开发，不需要压缩

*生产*
gulp压缩后直接上传到七牛云






